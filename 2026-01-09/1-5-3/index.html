<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í”¼ì ë°°ë‹¬ ì‹œë®¬ë ˆì´ì…˜</title>
  </head>
  <body>
    <script>
      // 1ì´ˆ ë’¤ ì„±ê³µí•˜ëŠ” ê°€ì§œ í•¨ìˆ˜
      const orderPizza = (name) =>
        new Promise((resolve) => {
          setTimeout(() => resolve(name), 1000);
        });

      const makeDough = (orderId) =>
        new Promise((resolve) => {
          setTimeout(() => resolve({ dough: true }), 1000);
        });

      const bakePizza = (dough) =>
        new Promise((resolve) => {
          setTimeout(() => resolve({ name: "Pepperoni" }), 1000);
        });

      // í˜„ì¬ì½”ë“œ
      /* orderPizza("Pepperoni", (err, orderId) => {
          if (err) return handleError(err);

          makeDough(orderId, (err, dough) => {
            if (err) return handleError(err);

            bakePizza(dough, (err, pizza) => {
              if (err) return handleError(err);
              console.log(`${pizza.name} ë°°ë‹¬ ì™„ë£Œ! ğŸ•`);
            });
          });
        }); */

      async function deliverPizza() {
        try {
          const orderId = await orderPizza("Pepperoni");
          const dough = await makeDough(orderId);
          const pizza = await bakePizza(dough);
          console.log(`${pizza.name} ë°°ë‹¬ ì™„ë£Œ! ğŸ•`);
        } catch (err) {
          console.error("ë°°ë‹¬ ì‹¤íŒ¨!", err);
        }
      }
      deliverPizza();
    </script>
  </body>
</html>
